"querySelector"in document&&"localStorage"in window&&"addEventListener"in window&&(ClassUtil.add(window.document.body,"js"),window.onload=function(){function e(e){e.preventDefault(),e.stopPropagation();var t=document.getElementById("input__file");t.files.length&&a(t.files[0])}function t(e){var t=e.target;if(t.files.length){var n=document.getElementById("input__file__label");n.innerHTML=e.target.files[0].name;var t=n.parentNode;t.className=t.className.match(/input__file--selected/)?t.className:t.className.trim()+" input__file--selected"}}function n(){return{K:document.getElementById("input__k").value,space:document.getElementById("input__space").value}}function a(e,t){r(),d();var n=new FileReader;n.onload=function(e){var t=new Image;t.onload=l,t.src=e.target.result},n.readAsDataURL(e)}function d(){var e=document.getElementById("spinner");ClassUtil.remove(e,"hidden")}function i(){var e=document.getElementById("spinner");ClassUtil.add(e,"hidden")}function l(e){var t=n(),a=e.target,d=document.getElementById("canvas"),l=document.getElementById("workspace"),r=window.innerWidth?window.innerWidth:a.width,m=document.getElementById("spinner");ClassUtil.remove(m,"hidden"),s(a,l,400);var u=l.getContext("2d"),g=u.getImageData(0,0,l.width,l.height).data;console.log(t,g);var h=Swatchmaker.extractPalette(g,t.K,t.space);console.log(h),i(),c(h,d),s(a,d,r),o()}function o(){var e=document.getElementById("results");ClassUtil.remove(e,"hidden")}function r(){var e=document.getElementById("results");ClassUtil.add(e,"hidden")}function c(e,t){var n,a,d=document.getElementById("palette");for(d.innerHTML="",a=0;a<e.length;a+=1)n=document.createElement("span"),n.className="swatch",n.style.backgroundColor="rgb("+e[a][0]+", "+e[a][1]+", "+e[a][2]+")",d.appendChild(n)}function s(e,t,n){var a=t.getContext("2d"),d=e.width>e.height;t.width=d?n:e.width/e.height*n,t.height=d?e.height/e.width*n:n,a.drawImage(e,0,0,e.width,e.height,0,0,t.width,t.height)}var m=document.getElementById("form"),u=document.getElementById("input__file");m.addEventListener("submit",e,!1),u.addEventListener("change",t,!1)});